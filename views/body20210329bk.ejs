<script>
    function reportSend() {
        if (document.formn.iframeUrl.value=="") {
            alert('iframe URL을 입력해 주세요');
            document.formn.iframeUrl.focus()
            return false;
        }
    }
/*
    function calcHeight(){
     //find the height of the internal page
    
     var the_height=document.getElementById('ifm_image').contentWindow.document.body.scrollHeight;
    
     //change the height of the iframe
     document.getElementById('the_iframe').height=the_height;
    
     //document.getElementById('the_iframe').scrolling = "no";
     document.getElementById('ifm_image').style.overflow = "hidden";
    }
*/
//var the_height=document.body.scrollHeight;
//console.log ("the_height=" + the_height)

</script>


<header>
    <h1>KT iframe Test</h1>
    <a href="#gnb">주메뉴 바로 가기</a>
    <a href="#main">본문 메뉴 바로 가기</a>

    
</header>
<!-- GNB Start-->
<nav id="gnb">
    <div class="logo">
           <a href="http://www.kt.com" target="_blank"><img src="images/logo.png" style="margin-top: 14px;" alt="KT로고"></a>
    </div>
    <div class="inner">
            <div>
                <a href="#" class="gnbtitle">Iframe테스트</a>
            </div>   
            <div class="formclass">
                <form name="formn" action="/iframe" method="post" onsubmit="return reportSend()">
                <label for='iframeUrl'>url</label>
                <input type="text" id="iframeUrl"  name="iframeUrl" size="45" value="<%=iframeUrl%>"> <label for='iframeHeight'>Height</label>  <input type="text" id="iframeHeight"  name="iframeHeight" size="3" value="<%=iframeHeight%>">
                <input type="submit" value="확인">
            </form>  
            </div>
               <div>  <a href="javascript:window.open('abcd.aa');" title="창으로 열림">아리랑 새 창</a></div>
    </div>
    <div>
        <a href="#void" class="pop_btn">도움말</a>
        <div class="pop_opacity"></div>
        <div class="pop">
         <div><h1>◆ KT iFrame 서비스 도움말 ◆</h1></div>
            1. iframe url에 검증할 이벤트 page URL을 입력 <br><br>
            2. iframe Height 에 이벤트 page의 height를 입력 <br><br>
               &nbsp;&nbsp;&nbsp;&nbsp;참고)page의 height 구하는 방법 <br><br>
               &nbsp;&nbsp;&nbsp;&nbsp;chrome에서 페이지 접속 > 개발자 도구(F12) > Console > document.body.scrollHeight <br><br>
               &nbsp;&nbsp; &nbsp;&nbsp;<img src="./images/help1.png" alt="도움말1" width="700"> <br><br>
            3.  &nbsp;&nbsp;  <input type="button" value="확인"> 버튼 클릭 <br><br>
            4. iframe Height 기본은 20000으로 지정되어 있음<br>
         
        <a href="#void" class="pop_close">×</a>
    </div> <div>
  </div>   

 
  


<!-- 
  <div class="inner">
  <a href="/help"><input type="button" onclick="viewHelp();" value="도움말"></a>
  </div>
 -->


    <!-- document.body.scrollHeight -->
  
</nav>
<!-- GNB End-->
<div id="main">
    <section><iframe src="<%=iframeUrl%>" width="1080" height="<%=iframeHeight%>" frameborder="0" scrolling="no" title="이벤트 본문" id="ifm_image" name="ifm_image" ></iframe>
    </section>
</div>
<footer>


</footer>
<script>
    function viewHelp(){

    }
//      var the_height=document.getElementById('ifm_image').contentWindow.document.body.scrollHeight;
//  console.log ("the_height=" + the_height)



 const popButton = document.querySelector('.pop_btn');
  const popCont = document.querySelector('.pop');
  const popClose = document.querySelector('.pop_close');
  const popOpacity = document.querySelector('.pop_opacity');
  
  function popEventOpen(){
      popCont.classList.add('on');
      popOpacity.classList.add('on');
  }		
  function popEventClose(){
      popCont.classList.remove('on');
      popOpacity.classList.remove('on');
  }
  function init(){
      popButton.addEventListener('click', popEventOpen);
      popClose.addEventListener('click', popEventClose);
      popOpacity.addEventListener('click', popEventClose);
  }
  init();



</script>

